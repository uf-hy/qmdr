# QMDR Environment Variables
# Copy to .env, fill in your API keys, then `source .env`
#
# üí° Three config modes (pick one):
#
# Mode A: SiliconFlow only (simplest, one key)
#   ‚Üí Embedding / Query Expansion / Rerank all via SiliconFlow
#
# Mode B: SiliconFlow + Gemini (recommended)
#   ‚Üí Embedding / Expansion via SiliconFlow, Rerank via Gemini
#
# Mode C: OpenAI-compatible API only
#   ‚Üí OpenAI, Azure, Volcengine, any relay proxy
#
# üí° ‰∏âÁßçÈÖçÁΩÆÊñπÂºèÔºà‰ªªÈÄâÂÖ∂‰∏ÄÔºâÔºö
#
# ÊñπÂºè‰∏ÄÔºöÂè™Áî® SiliconFlowÔºàÊúÄÁÆÄÔºå‰∏Ä‰∏™ KeyÔºâ
# ÊñπÂºè‰∫åÔºöSiliconFlow + GeminiÔºàÊé®ËçêÔºåÂêÑÂèñÊâÄÈïøÔºâ
# ÊñπÂºè‰∏âÔºöÂè™Áî® OpenAI ÂÖºÂÆπ APIÔºàÁÅ´Â±±ÂºïÊìé„ÄÅ‰∏≠ËΩ¨Á´ôÁ≠âÔºâ

# ============================================================
# SiliconFlow
# China: https://cloud.siliconflow.cn (free tier)
# International: https://cloud.siliconflow.com (free tier)
# ============================================================

QMD_SILICONFLOW_API_KEY=sk-your-siliconflow-key-here

# International users: uncomment to use the global endpoint
# QMD_SILICONFLOW_BASE_URL=https://api.siliconflow.com/v1

# ============================================================
# Gemini (https://ai.google.dev ‚Äî free tier: 15 RPM / 1M tokens/day)
# ============================================================

# QMD_GEMINI_API_KEY=your-gemini-key-here
# QMD_GEMINI_MODEL=gemini-2.5-flash
# QMD_GEMINI_BASE_URL=https://generativelanguage.googleapis.com

# ============================================================
# OpenAI-compatible API
# Supports: OpenAI, Azure, Volcengine, relay proxies, etc.
# ============================================================

# QMD_OPENAI_API_KEY=your-key-here
# QMD_OPENAI_BASE_URL=https://api.openai.com/v1
# QMD_OPENAI_MODEL=gpt-4o-mini
# QMD_OPENAI_EMBED_MODEL=text-embedding-3-small

# ============================================================
# Provider routing (auto-detected from keys, usually not needed)
# ============================================================

# QMD_EMBED_PROVIDER=siliconflow          # siliconflow / openai
# QMD_QUERY_EXPANSION_PROVIDER=siliconflow # siliconflow / gemini / openai
# QMD_RERANK_PROVIDER=gemini               # siliconflow / gemini / openai
# QMD_RERANK_MODE=llm                      # llm (chat model) / rerank (dedicated rerank API)

# ============================================================
# Model overrides (sensible defaults provided)
# ============================================================

# SiliconFlow models
# QMD_SILICONFLOW_EMBED_MODEL=Qwen/Qwen3-Embedding-8B
# QMD_SILICONFLOW_QUERY_EXPANSION_MODEL=zai-org/GLM-4.5-Air
# QMD_SILICONFLOW_RERANK_MODEL=BAAI/bge-reranker-v2-m3   # when QMD_RERANK_MODE=rerank
# QMD_LLM_RERANK_MODEL=zai-org/GLM-4.5-Air               # when QMD_RERANK_MODE=llm

# ============================================================
# Performance tuning (sensible defaults provided)
# ============================================================

# QMD_CHUNK_SIZE_TOKENS=200           # Tokens per chunk (default: 200)
# QMD_CHUNK_OVERLAP_TOKENS=40         # Overlap between chunks (default: 40)
# QMD_EMBED_BATCH_SIZE=32             # Embedding batch size (default: 32)
# QMD_RERANK_DOC_LIMIT=40             # Max docs for reranking (default: 40)
# QMD_RERANK_CHUNKS_PER_DOC=3         # Chunks per doc for reranking (default: 3)

# ============================================================
# Paths (auto-detected, override if needed)
# ============================================================

# QMD_CONFIG_DIR=~/.config/qmd        # Config directory (index.yml location)
# XDG_CACHE_HOME=~/.cache             # Cache directory (database at $XDG_CACHE_HOME/qmd/index.sqlite)
# QMD_SQLITE_VEC_PATH=                # sqlite-vec native extension path (auto-detected)
